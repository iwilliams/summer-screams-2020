[gd_scene load_steps=13 format=2]

[ext_resource path="res://Loop.tscn" type="PackedScene" id=1]
[ext_resource path="res://Handle.gd" type="Script" id=2]
[ext_resource path="res://player/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://entities/Battery.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/spaceship-ambience.wav" type="AudioStream" id=5]
[ext_resource path="res://assets/vault.wav" type="AudioStream" id=6]

[sub_resource type="SpatialMaterial" id=1]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="CylinderMesh" id=2]
material = SubResource( 1 )
top_radius = 0.4
bottom_radius = 0.4
height = 0.2
radial_segments = 8
rings = 1

[sub_resource type="ConvexPolygonShape" id=3]
points = PoolVector3Array( -0.385699, -0.1, -0.0192548, -0.385699, -0.1, 0.0192548, -0.376057, 0.1, -0.0187734, -0.376057, 0.1, 0.0187734, -0.366441, -0.1, -0.0674294, -0.366441, -0.1, 0.0674294, -0.35728, 0.1, -0.0657436, -0.35728, 0.1, 0.0657436, -0.318181, -0.1, -0.183184, -0.318181, -0.1, 0.183184, -0.289255, -0.1, -0.250689, -0.289255, -0.1, 0.250689, -0.282024, 0.1, -0.244422, -0.282024, 0.1, 0.244422, -0.279588, -0.1, -0.269944, -0.279588, -0.1, 0.269944, -0.269997, -0.1, -0.279609, -0.269997, -0.1, 0.279609, -0.263247, 0.1, -0.272619, -0.263247, 0.1, 0.272619, -0.250663, -0.1, -0.289199, -0.250663, -0.1, 0.289199, -0.183145, -0.1, -0.318194, -0.183145, -0.1, 0.318194, -0.178566, 0.1, -0.310239, -0.178566, 0.1, 0.310239, -0.0675181, -0.1, -0.366369, -0.0675181, -0.1, 0.366369, -0.0192585, -0.1, -0.385699, -0.0192585, -0.1, 0.385699, -0.0187771, 0.1, -0.376057, -0.0187771, 0.1, 0.376057, 0.0187771, 0.1, -0.376057, 0.0187771, 0.1, 0.376057, 0.0192585, -0.1, -0.385699, 0.0192585, -0.1, 0.385699, 0.0658301, 0.1, -0.357283, 0.0658301, 0.1, 0.357283, 0.0675181, -0.1, -0.366444, 0.0675181, -0.1, 0.366444, 0.18322, -0.1, -0.318194, 0.18322, -0.1, 0.318194, 0.24447, 0.1, -0.282042, 0.24447, 0.1, 0.282042, 0.250738, -0.1, -0.289274, 0.250738, -0.1, 0.289274, 0.263247, 0.1, -0.272619, 0.269997, -0.1, -0.279609, 0.269997, -0.1, 0.279609, 0.272599, 0.1, 0.263269, 0.279588, -0.1, -0.27002, 0.282024, 0.1, -0.244422, 0.289255, -0.1, -0.250689, 0.289255, -0.1, 0.250689, 0.3103, 0.1, -0.178605, 0.3103, 0.1, 0.178605, 0.318256, -0.1, -0.183184, 0.318256, -0.1, 0.183184, 0.366441, -0.1, -0.0674294, 0.366441, -0.1, 0.0674294, 0.376057, 0.1, -0.0186998, 0.376057, 0.1, 0.0186998, 0.385699, -0.1, -0.0191792, 0.385699, -0.1, 0.0191792 )

[sub_resource type="CubeMesh" id=4]
size = Vector3( 0.2, 3.5, 3.5 )
subdivide_width = 4
subdivide_height = 4

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0.741176, 0.776471, 0.980392, 1 )

[sub_resource type="ConvexPolygonShape" id=6]
points = PoolVector3Array( -0.1, 1.75, 1.75, 0.1, 1.75, -1.75, 0.1, 1.75, 1.75, -0.1, 1.75, -1.75, -0.1, -1.75, 1.75, 0.1, -1.75, -1.75, 0.1, -1.75, 1.75, -0.1, -1.75, -1.75, 0.1, 1.75, 1.75, -0.1, 1.75, -1.75, 0.1, 1.75, -1.75, -0.1, 1.75, 1.75, 0.1, -1.75, 1.75, -0.1, -1.75, -1.75, 0.1, -1.75, -1.75, -0.1, -1.75, 1.75, 0.1, 1.75, 1.75, -0.1, -1.75, 1.75, -0.1, 1.75, 1.75, 0.1, -1.75, 1.75, 0.1, 1.75, -1.75, -0.1, -1.75, -1.75, -0.1, 1.75, -1.75, 0.1, -1.75, -1.75 )

[node name="Main" type="Spatial"]

[node name="AmbiencePlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 5 )
volume_db = -18.79
autoplay = true

[node name="Player" parent="." instance=ExtResource( 3 )]
transform = Transform( -1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, 12.2973, 2.92509, 2.75487 )

[node name="Battery2" parent="." instance=ExtResource( 4 )]
transform = Transform( -0.482963, -0.836516, 0.258819, 0.866025, -0.5, 0, 0.12941, 0.224144, 0.965926, -14.7609, 7.61635, 2.02773 )

[node name="Spatial" parent="." instance=ExtResource( 1 )]

[node name="Handle" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 17.2838, 3, 3.98247 )
gravity_scale = 0.0
angular_damp = 1.0
script = ExtResource( 2 )

[node name="VaultPlayer" type="AudioStreamPlayer3D" parent="Handle"]
stream = ExtResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="Handle"]
transform = Transform( -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 2 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Handle"]
transform = Transform( -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0, 0, 1, 0, 0, 0 )
shape = SubResource( 3 )

[node name="Generic6DOFJoint" type="HingeJoint" parent="Handle"]
transform = Transform( 4.37114e-08, 8.9407e-08, 1, 8.74228e-08, -1, 8.9407e-08, 1, 8.74228e-08, -4.37114e-08, 0, 0, 0 )
nodes/node_a = NodePath("..")
nodes/node_b = NodePath("../../Door")
params/bias = 0.99
angular_limit/enable = true
angular_limit/upper = 180.0
angular_limit/lower = 0.0

[node name="Door" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 17.5, 3, 3 )
gravity_scale = 0.0

[node name="MeshInstance" type="MeshInstance" parent="Door"]
mesh = SubResource( 4 )
material/0 = SubResource( 5 )

[node name="CollisionShape" type="CollisionShape" parent="Door"]
shape = SubResource( 6 )

[node name="HingeJoint" type="HingeJoint" parent="Door"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.1, -1.90999, 1.90735e-06 )
nodes/node_a = NodePath("../../Spatial/QodotMap2/entity_0_worldspawn")
nodes/node_b = NodePath("..")
angular_limit/enable = true
angular_limit/upper = 0.0
angular_limit/lower = 0.0

[node name="Spatial2" type="Spatial" parent="Door"]

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( -2.4017e-08, -0.835529, 0.549446, -3.65222e-08, 0.549446, 0.835529, -1, -3.55271e-15, -4.37114e-08, 15.2774, 5.04693, 3.06388 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 3.34

[editable path="Spatial"]

[editable path="Spatial/QodotMap2"]
